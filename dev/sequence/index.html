<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sequence · MCMRSimulator.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MCMRSimulator.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../obstructions/">Geometry</a></li><li class="is-active"><a class="tocitem" href>Sequence</a><ul class="internal"><li><a class="tocitem" href="#Built-in-MR-sequences"><span>Built-in MR sequences</span></a></li><li><a class="tocitem" href="#Custom-MR-sequences"><span>Custom MR sequences</span></a></li><li><a class="tocitem" href="#Defining-the-MR-gradients"><span>Defining the MR gradients</span></a></li></ul></li><li><a class="tocitem" href="../off_resonance/">Magnetic susceptibility</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Sequence</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sequence</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://git.fmrib.ox.ac.uk/ndcn0236/MCMRSimulator.jl/blob/main/docs/src/sequence.md#" title="Edit source"><span class="docs-icon fa"></span><span class="docs-label is-hidden-touch">Edit source</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="sequence"><a class="docs-heading-anchor" href="#sequence">MR sequences</a><a id="sequence-1"></a><a class="docs-heading-anchor-permalink" href="#sequence" title="Permalink"></a></h1><h2 id="Built-in-MR-sequences"><a class="docs-heading-anchor" href="#Built-in-MR-sequences">Built-in MR sequences</a><a id="Built-in-MR-sequences-1"></a><a class="docs-heading-anchor-permalink" href="#Built-in-MR-sequences" title="Permalink"></a></h2><h3 id="Diffusion-weighted-MRI"><a class="docs-heading-anchor" href="#Diffusion-weighted-MRI">Diffusion-weighted MRI</a><a id="Diffusion-weighted-MRI-1"></a><a class="docs-heading-anchor-permalink" href="#Diffusion-weighted-MRI" title="Permalink"></a></h3><p>A pulsed-gradient spin-echo can be created using <a href="../api/#MCMRSimulator.dwi-Tuple{}"><code>dwi</code></a></p><pre><code class="language-julia hljs">sequence = dwi(TR=100., bval=3.)</code></pre><p><img src="../dwi_sequence.png" alt="DWI sequence diagram"/></p><pre><code class="language-julia hljs">sequence = dwi(TR=100., bval=3., gradient_duration=0.)</code></pre><p><img src="../dwi_sequence_delta_0.png" alt="DWI sequence diagram with instanteneous gradients"/></p><h2 id="Custom-MR-sequences"><a class="docs-heading-anchor" href="#Custom-MR-sequences">Custom MR sequences</a><a id="Custom-MR-sequences-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-MR-sequences" title="Permalink"></a></h2><p>In MCMRSimulator.jl an MR <a href="../api/#MCMRSimulator.Sequence"><code>Sequence</code></a> describes the RF pulses and gradients applied by the MRI scanner.</p><p>This sequence contains of:</p><ul><li>RF pulses, which can be instantaneous (<a href="../api/#MCMRSimulator.InstantRFPulse"><code>InstantRFPulse</code></a>) or be described more realistically as RF amplitude/phase profiles ([<code>RFPulse</code>])</li><li>Gradients. Like RF pulses they can be approximated as instanteneous (<a href="../api/#MCMRSimulator.InstantGradient"><code>InstantGradient</code></a>) or have a finite duration (<a href="../api/#MCMRSimulator.MRGradients"><code>MRGradients</code></a>)</li><li>Readouts (<a href="../api/#MCMRSimulator.Readout"><code>Readout</code></a>). These are always instanteneous as realistic modelling of an actual MRI readout would require modelling the whole brain and receiver coil configuration, which is far beyond the scope of this simulator.</li></ul><p>Each of these sequence components will play identically every repetition time (TR) of the sequence.</p><h2 id="Defining-the-MR-gradients"><a class="docs-heading-anchor" href="#Defining-the-MR-gradients">Defining the MR gradients</a><a id="Defining-the-MR-gradients-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-the-MR-gradients" title="Permalink"></a></h2><p>The MRI scanner gradients cause the spins to precess at different rates in different part of the tissue. This encodes the spin location into the spin orientation and can hence be used to measure the movement of spins (e.g., in diffusion-weighted MRI). Crusher gradients are also commonly used to get rid of unwanted signal contributions due to imperfect RF pulses.</p><p>The gradient profile over time can be modeled as a <a href="../api/#MCMRSimulator.MRGradients"><code>MRGradients</code></a> object.  The off-resonance field at a specific time (or integrated over a timespan) and position can be computed using <a href="../api/#MCMRSimulator.gradient-Tuple{AbstractVector, Sequence, Number}"><code>gradient</code></a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../obstructions/">« Geometry</a><a class="docs-footer-nextpage" href="../off_resonance/">Magnetic susceptibility »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 1 February 2023 16:44">Wednesday 1 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
