<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · MCMRSimulator.jl</title><meta name="title" content="Installation · MCMRSimulator.jl"/><meta property="og:title" content="Installation · MCMRSimulator.jl"/><meta property="twitter:title" content="Installation · MCMRSimulator.jl"/><meta name="description" content="Documentation for MCMRSimulator.jl: a Monte Carlo MRI simulator in Julia"/><meta property="og:description" content="Documentation for MCMRSimulator.jl: a Monte Carlo MRI simulator in Julia"/><meta property="twitter:description" content="Documentation for MCMRSimulator.jl: a Monte Carlo MRI simulator in Julia"/><meta property="og:url" content="https://open.win.ox.ac.uk/pages/ndcn0236/mcmrsimulator.jl/stable/installation/"/><meta property="twitter:url" content="https://open.win.ox.ac.uk/pages/ndcn0236/mcmrsimulator.jl/stable/installation/"/><link rel="canonical" href="https://open.win.ox.ac.uk/pages/ndcn0236/mcmrsimulator.jl/stable/installation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MCMRSimulator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Installation</a><ul class="internal"><li><a class="tocitem" href="#Installing-the-simulator-for-a-specific-project"><span>Installing the simulator for a specific project</span></a></li><li><a class="tocitem" href="#Running-MCMRSimulator"><span>Running MCMRSimulator</span></a></li><li><a class="tocitem" href="#Updating-MCMRSimulator"><span>Updating MCMRSimulator</span></a></li><li><a class="tocitem" href="#Sharing-your-MCMRSimulator-installation"><span>Sharing your MCMRSimulator installation</span></a></li><li><a class="tocitem" href="#jupyter_install"><span>Running MCMRSimulator in a Jupyter notebook</span></a></li></ul></li><li><a class="tocitem" href="../tutorial_julia/">Tutorial (Julia)</a></li><li><a class="tocitem" href="../tutorial_cli/">Tutorial (CLI)</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../properties/">MRI/collision properties</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Installation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Installation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://git.fmrib.ox.ac.uk/ndcn0236/MCMRSimulator.jl" title="View the repository"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">Repository</span></a><a class="docs-navbar-link" href="https://git.fmrib.ox.ac.uk/ndcn0236/MCMRSimulator.jl/-/tree/main/docs/src/installation.md" title="Edit source"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="installation"><a class="docs-heading-anchor" href="#installation">Installation</a><a id="installation-1"></a><a class="docs-heading-anchor-permalink" href="#installation" title="Permalink"></a></h1><p>MCMRSimulator is an application written in the <a href="https://julialang.org">Julia</a> language. You can run simulations either directly from the Julia REPL, in a <a href="#jupyter_install">Jupyter notebook</a>, or using the command line interface.</p><h2 id="Installing-the-simulator-for-a-specific-project"><a class="docs-heading-anchor" href="#Installing-the-simulator-for-a-specific-project">Installing the simulator for a specific project</a><a id="Installing-the-simulator-for-a-specific-project-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-the-simulator-for-a-specific-project" title="Permalink"></a></h2><ol><li>First install julia from the <a href="https://julialang.org/downloads/">official website</a>.</li><li>Create a directory for the project for which you are going to use the simulator. We will install MCMRSimulator in isolation just for this project. This ensures that if we install a newer version of the simulator for another project in the future, it will not interfere with the reproducibility of the results of this project. We will refer to this newly created project directory below as &quot;&lt;project_dir&gt;&quot;.</li><li>Start the julia REPL in a terminal (<code>$ julia --project=&lt;project_dir&gt;</code>). The <code>--project</code> flag ensures that we create and activate a Julia environemnt just for this project. This will create a &quot;Project.toml&quot; and &quot;Manifest.toml&quot; inside the directory specifying the installed packages (such as the MCMR simulator).</li><li>Enter the package manager by pressing &quot;]&quot;<ul><li>First install the required MRIBuilder.jl using <code>pkg&gt; add https://git.fmrib.ox.ac.uk/ndcn0236/mribuilder.jl.git</code>.</li><li>Then install MCMRSimulator.jl using <code>pkg&gt; add https://git.fmrib.ox.ac.uk/ndcn0236/mcmrsimulator.jl.git</code>.</li><li>(Optional) Install one of the <a href="https://makie.juliaplots.org/stable/documentation/backends/">Makie backends</a> for plotting (e.g., <code>pkg&gt; add CairoMakie</code>).</li><li>(Optional) If you want to use a Jupyter notebook for this project, you will also have to install an <code>IJulia</code> kernel. You can find instructions to do so <a href="#jupyter_install">below</a>.</li><li>Press &quot;[backspace]&quot; to leave the package manager.</li></ul></li><li>(Optional) To install the MCMRSimulator command line interface (CLI) run the following in the main julia REPL: <code>using MCMRSimulator; MCMRSimulator.install_cli(destdir=&quot;...&quot;)</code>, where <code>destdir</code> is the target directory for the executable (called <code>mcmr</code> by default). Ensure that the <code>destdir</code> is a directory that is in your PATH variable.</li></ol><h2 id="Running-MCMRSimulator"><a class="docs-heading-anchor" href="#Running-MCMRSimulator">Running MCMRSimulator</a><a id="Running-MCMRSimulator-1"></a><a class="docs-heading-anchor-permalink" href="#Running-MCMRSimulator" title="Permalink"></a></h2><p>After this installation process, you can run MCMRSimulator in one of the following ways:</p><ul><li><em>Julia REPL</em>: Start the REPL in a terminal by typing <code>$ julia --project=&lt;project_dir&gt;</code>. Afterwards type <code>using MCMRSimulator</code> to import the simulator. You can now follow the steps in the <a href="../tutorial_julia/#tutorial_julia">MCMRSimulator tutorial using Julia</a>.</li><li><em>Jupyter notebook</em>: Make sure that you install <code>IJulia</code> using the instructions <a href="#jupyter_install">below</a>. This will allow you to start a notebook in jupyter running in Julia. Within this notebook, you can follow the steps in the <a href="../tutorial_julia/#tutorial_julia">MCMRSimulator tutorial using Julia</a>.</li><li><em>Command line interface</em>: If you followed the instructions in step 4 above, you can run the MCMRSimulator command line interface simply by typing <code>mcmr</code> in the terminal. If it is not working, you might want to redo step 4 above and pay attention to any warning messages. With this alias set up, you can now follow <a href="../tutorial_cli/#tutorial_cli">the command line tutorial</a>.</li></ul><h2 id="Updating-MCMRSimulator"><a class="docs-heading-anchor" href="#Updating-MCMRSimulator">Updating MCMRSimulator</a><a id="Updating-MCMRSimulator-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-MCMRSimulator" title="Permalink"></a></h2><p>First check the <a href="https://git.fmrib.ox.ac.uk/ndcn0236/mcmrsimulator.jl/-/blob/main/CHANGELOG.md">CHANGELOG</a> to find a list of changes since your current version. If you decide to update:</p><ol><li>Start the julia REPL again in a terminal (<code>$ julia --project=&lt;project_dir&gt;</code>)</li><li>Enter the package manager by pressing &quot;]&quot;</li><li>Update all installed packages using by typing <code>update</code> and pressing enter (<code>pkg&gt; update</code>).</li></ol><h2 id="Sharing-your-MCMRSimulator-installation"><a class="docs-heading-anchor" href="#Sharing-your-MCMRSimulator-installation">Sharing your MCMRSimulator installation</a><a id="Sharing-your-MCMRSimulator-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Sharing-your-MCMRSimulator-installation" title="Permalink"></a></h2><p>To share the exact environment used by your installation of MCMRSimulator, simply go to the <code>&lt;project_dir&gt;</code> directory and locate the files named &quot;Project.toml&quot; and &quot;Manifest.toml&quot;. Transfer these files to any other computer, to ensure that they install the exact same version of all Julia packages used (see https://pkgdocs.julialang.org/v1/environments/ for more details).</p><h2 id="jupyter_install"><a class="docs-heading-anchor" href="#jupyter_install">Running MCMRSimulator in a Jupyter notebook</a><a id="jupyter_install-1"></a><a class="docs-heading-anchor-permalink" href="#jupyter_install" title="Permalink"></a></h2><h3 id="Installing-the-Julia-kernel"><a class="docs-heading-anchor" href="#Installing-the-Julia-kernel">Installing the Julia kernel</a><a id="Installing-the-Julia-kernel-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-the-Julia-kernel" title="Permalink"></a></h3><p>You only have to run the following once:</p><pre><code class="language-bash hljs">julia -e &quot;import Pkg; Pkg.add(\&quot;IJulia\&quot;); Pkg.build(\&quot;IJulia\&quot;)&quot; </code></pre><p>This line installs and builds <code>IJulia</code> in the main, global environment. This will create a new jupyter kernel just for Julia. This global environment is available within any local environments, so we only have to do this once across any number of Julia projects.</p><p>To test whether this has worked, start a <code>Jupyter notebook</code> (or <code>Jupyter lab</code>). If you have FSL installed, you can do so using <code>fslpython -m notebook</code>. Within the <code>Jupyter notebook</code> interface press &quot;New&quot;. The Julia kernel should show up here with its version number. <img src="../jupyter_julia_kernel.png" alt/></p><h3 id="Using-the-simulator-with-this-Julia-kernel"><a class="docs-heading-anchor" href="#Using-the-simulator-with-this-Julia-kernel">Using the simulator with this Julia kernel</a><a id="Using-the-simulator-with-this-Julia-kernel-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-simulator-with-this-Julia-kernel" title="Permalink"></a></h3><p>If you followed the steps in the previous section, the Julia kernel will be installed in its own environment separate from the simulator. To use the simulator using this kernel, we simply start a notebook and then switch to an environment that has the MCMR simulator installed (i.e., created as described <a href="#installation">above</a>). You can do this by including a block at the top of the notebook with the following code:</p><pre><code class="language-julia hljs">import Pkg
Pkg.activate(&quot;&lt;project dir&gt;&quot;)</code></pre><p>where <code>&quot;&lt;project_dir&gt;&quot;</code> is the directory where we installed the simulator.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../tutorial_julia/">Tutorial (Julia) »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 2 April 2025 12:28">Wednesday 2 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
