<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MRI/collision properties · MCMRSimulator.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MCMRSimulator.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../sequence/">Sequence</a></li><li class="is-active"><a class="tocitem" href>MRI/collision properties</a><ul class="internal"><li><a class="tocitem" href="#MRI-properties"><span>MRI properties</span></a></li><li><a class="tocitem" href="#Collision-properties"><span>Collision properties</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>MRI/collision properties</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>MRI/collision properties</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://git.fmrib.ox.ac.uk/ndcn0236/MCMRSimulator.jl/blob/main/docs/src/properties.md#" title="Edit source"><span class="docs-icon fa"></span><span class="docs-label is-hidden-touch">Edit source</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="properties"><a class="docs-heading-anchor" href="#properties">Simulation properties</a><a id="properties-1"></a><a class="docs-heading-anchor-permalink" href="#properties" title="Permalink"></a></h1><p>How the spins behave is determined by the tissue <a href="../geometry/#geometry">geometry</a>, the applied <a href="../sequence/#sequence">MRI sequences</a>, and user-provided flags determining how the spin magnetisation evolves. Here we discuss how the spin magnetisation evolution can be affected by these user-provided flags.</p><p>For example, one such flag is the <code>diffusivity</code>, which can be set as a keyword argument while generating the <a href="../api/#MCMRSimulator.Simulation"><code>Simulation</code></a>.</p><h2 id="MRI-properties"><a class="docs-heading-anchor" href="#MRI-properties">MRI properties</a><a id="MRI-properties-1"></a><a class="docs-heading-anchor-permalink" href="#MRI-properties" title="Permalink"></a></h2><p><a href="../api/#MCMRSimulator.MRIProperties"><code>MRIProperties</code></a> determine the spin evolution for free and stuck particles. They include:</p><ul><li>the longitudinal relaxation time <code>T1</code> or rate <code>R1</code></li><li>the transverse relaxation time <code>T2</code> or rate <code>R2</code></li><li>the global <code>off_resonance</code> field (i.e., any off-resonance not caused by the sequence or the geometry)</li></ul><p>At the <a href="../api/#MCMRSimulator.Simulation"><code>Simulation</code></a> level these parameters can be set by supplying the <code>T1</code>/<code>R1</code>, <code>T2</code>/<code>R2</code>, or <code>off_resonance</code> flags (see <a href="../api/#MCMRSimulator.GlobalProperties"><code>GlobalProperties</code></a>), such as:</p><pre><code class="language-julia hljs">simulation = Simulation(sequences, T1=2000, R2=1/80)</code></pre><p>These MRI properties can be locally overwritten when defining the <a href="../geometry/#geometry">geometry</a> (see <a href="../api/#MCMRSimulator.ObstructionProperties"><code>ObstructionProperties</code></a>). The relaxation properties within a compartment can be set by setting <code>T1_inside</code>/<code>R1_inside</code>, <code>T2_inside</code>/<code>R2_inside</code>, and/or <code>off_resonance_inside</code> flags. Equivalently, the relaxation properties for particles stuck on the surface can be set using the <code>T1_surface</code>/<code>R1_surface</code>, <code>T2_surface</code>/<code>R2_surface</code>, and/or <code>off_resonance_surface</code> flags.</p><p>If not set at the global or local level, there will be no longitudinal or transverse relaxation and there will be no off-resonance field.</p><h2 id="Collision-properties"><a class="docs-heading-anchor" href="#Collision-properties">Collision properties</a><a id="Collision-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Collision-properties" title="Permalink"></a></h2><p><a href="../api/#MCMRSimulator.CollisionProperties"><code>CollisionProperties</code></a> determine the behaviour of spins at the time of a collision. Like MRI properties they can be set at the global level (<a href="../api/#MCMRSimulator.GlobalProperties"><code>GlobalProperties</code></a>) or overwritten at the local level (<a href="../api/#MCMRSimulator.ObstructionProperties"><code>ObstructionProperties</code></a>). There are four such properties:</p><ul><li><a href="../api/#MCMRSimulator.MT_fraction-Tuple{ObstructionProperties, Any}"><code>MT_fraction</code></a>: the fraction of transverse signal lost (and longitudinal signal regained) at every collision. This fraction is adjusted to take into account the timestep (see <a href="../api/#MCMRSimulator.correct_for_timestep-Tuple{Any, Any}"><code>correct_for_timestep</code></a>). Note that this is not the recommended way to model magnetisation transfer. Instead, we recommend using the <code>surface_density</code> as discussed below.</li><li><a href="../api/#MCMRSimulator.permeability-Tuple{ObstructionProperties, Any}"><code>permeability</code></a>: the probability of the spin passing through the surface. If the spins do not pass through, they will undergo regular reflection (or get stuck, see below). Like <code>MT_fraction</code> it will be adjusted to take into account the timestep (see <a href="../api/#MCMRSimulator.correct_for_timestep-Tuple{Any, Any}"><code>correct_for_timestep</code></a>).</li><li><a href="../api/#MCMRSimulator.surface_density-Tuple{ObstructionProperties, Any}"><code>surface_density</code></a> and <a href="../api/#MCMRSimulator.dwell_time-Tuple{ObstructionProperties, Any}"><code>dwell_time</code></a>: These control the density and dwell time of spins on the surface. Depending on the MRI properties assigned to these stuck particles (see above), these stuck particles can be used to represent water stuck at the membranes due to surface tension or spins in the membrane itself (which is in exchange with the free water through magnetisation transfer).</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../sequence/">« Sequence</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 12 April 2023 10:29">Wednesday 12 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
